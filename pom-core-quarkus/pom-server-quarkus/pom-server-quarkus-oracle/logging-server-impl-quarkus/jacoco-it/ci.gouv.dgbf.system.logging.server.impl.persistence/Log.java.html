<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Log.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Serveur du module de logging bas√© sur Quarkus</a> &gt; <a href="index.source.html" class="el_package">ci.gouv.dgbf.system.logging.server.impl.persistence</a> &gt; <span class="el_source">Log.java</span></div><h1>Log.java</h1><pre class="source lang-java linenums">package ci.gouv.dgbf.system.logging.server.impl.persistence;

import java.io.Serializable;
import java.time.LocalDateTime;
import java.time.format.DateTimeFormatter;

import ci.gouv.dgbf.system.logging.server.api.LogDto;
import jakarta.persistence.Column;
import jakarta.persistence.Entity;
import jakarta.persistence.Id;
import jakarta.persistence.Table;

@Entity(name = Log.ENTITY_NAME)
@Table(name = Log.TABLE_NAME)
<span class="fc" id="L15">public class Log implements Serializable{</span>
	
	@Id @Column(name = COLUMN_IDENTIFIER,updatable = false) public String identifier;
	@Column(name = COLUMN_ENVIRONMENT_IDENTIFIER,nullable = false,updatable = false) public String environmentIdentifier;
	@Column(name = COLUMN_PROCESS_IDENTIFIER,nullable = false,updatable = false) public String processIdentifier;
	@Column(name = COLUMN_SESSION_IDENTIFIER,updatable = false) public String sessionIdentifier;
	@Column(name = COLUMN_LEVEL_IDENTIFIER,nullable = false,updatable = false) public String levelIdentifier;
	@Column(name = COLUMN_USER_IDENTIFIER,updatable = false) public String userIdentifier;
	@Column(name = COLUMN_MESSAGE,nullable = false,updatable = false) public String message;
	
	@Column(name = COLUMN_CREATION_DATE,nullable = false,updatable = false) public LocalDateTime creationDate;
	
	public LogDto instantiateDto() {
<span class="fc" id="L28">		LogDto dto = new LogDto();</span>
<span class="fc" id="L29">		dto.setIdentifier(identifier);</span>
<span class="fc" id="L30">		dto.setEnvironmentIdentifier(environmentIdentifier);</span>
<span class="fc" id="L31">		dto.setProcessIdentifier(processIdentifier);</span>
<span class="fc" id="L32">		dto.setSessionIdentifier(sessionIdentifier);</span>
<span class="fc" id="L33">		dto.setLevelIdentifier(levelIdentifier);</span>
<span class="fc" id="L34">		dto.setUserIdentifier(userIdentifier);</span>
<span class="fc" id="L35">		dto.setMessage(message);</span>
<span class="fc bfc" id="L36" title="All 2 branches covered.">		if(creationDate != null)</span>
<span class="fc" id="L37">			dto.setCreationDate(DATE_TIME_FORMAT.format(creationDate));</span>
<span class="fc" id="L38">		return dto;</span>
	}
	
	public static Log instantiate(String identifier,String environmentIdentifier, String processIdentifier, String sessionIdentifier,String levelIdentifier,String userIdentifier,String message,LocalDateTime creationDate) {
<span class="fc" id="L42">		Log log = new Log();</span>
<span class="fc" id="L43">		log.identifier = identifier;</span>
<span class="fc" id="L44">		log.environmentIdentifier = environmentIdentifier;</span>
<span class="fc" id="L45">		log.processIdentifier = processIdentifier;</span>
<span class="fc" id="L46">		log.sessionIdentifier = sessionIdentifier;</span>
<span class="fc" id="L47">		log.levelIdentifier = levelIdentifier;</span>
<span class="fc" id="L48">		log.userIdentifier = userIdentifier;</span>
<span class="fc" id="L49">		log.message = message;</span>
<span class="fc" id="L50">		log.creationDate = creationDate;</span>
<span class="fc" id="L51">		return log;</span>
	}
	
	public static final String FIELD_IDENTIFIER = &quot;identifier&quot;;
	public static final String FIELD_ENVIRONMENT_IDENTIFIER = &quot;environmentIdentifier&quot;;
	public static final String FIELD_PROCESS_IDENTIFIER = &quot;processIdentifier&quot;;
	public static final String FIELD_SESSION_IDENTIFIER = &quot;sessionIdentifier&quot;;
	public static final String FIELD_LEVEL_IDENTIFIER = &quot;levelIdentifier&quot;;
	public static final String FIELD_USER_IDENTIFIER = &quot;userIdentifier&quot;;
	public static final String FIELD_MESSAGE = &quot;message&quot;;
	public static final String FIELD_CREATION_DATE = &quot;creationDate&quot;;
	
	public static final String ENTITY_NAME = &quot;Log&quot;;
	public static final String TABLE_NAME = &quot;TA_LOG&quot;;
	
	public static final String COLUMN_IDENTIFIER = &quot;IDENTIFIANT&quot;;
	public static final String COLUMN_ENVIRONMENT_IDENTIFIER = &quot;ENVIRONNEMENT&quot;;
	public static final String COLUMN_PROCESS_IDENTIFIER = &quot;PROCESSUS&quot;;
	public static final String COLUMN_SESSION_IDENTIFIER = &quot;SESSION_&quot;;
	public static final String COLUMN_LEVEL_IDENTIFIER = &quot;NIVEAU&quot;;
	public static final String COLUMN_USER_IDENTIFIER = &quot;UTILISATEUR&quot;;
	public static final String COLUMN_MESSAGE = &quot;MESSAGE&quot;;
	public static final String COLUMN_CREATION_DATE = &quot;DATE_CREATION&quot;;
	
<span class="fc" id="L75">	private static final DateTimeFormatter DATE_TIME_FORMAT = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy HH:mm&quot;);</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>